00:00 rbenv:validate
      rbenv: rbenv_ruby is not set; ruby version will be defined by the remote hosts via rbenv
00:00 git:wrapper
      01 mkdir -p /tmp
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 1.317s
      Uploading /tmp/git-ssh-7074c8f7674a4a135abf.sh 100.0%
      02 chmod 700 /tmp/git-ssh-7074c8f7674a4a135abf.sh
    ✔ 02 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.161s
00:01 git:check
      01 git ls-remote https://github.com/Lexa67/Notebook.git HEAD
      01 b4db5758771ea3604035a2fd277b54792935a31f	HEAD
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.562s
00:02 deploy:check:directories
      01 mkdir -p /home/ubuntu/notebook/shared /home/ubuntu/notebook/releases
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.162s
00:02 deploy:check:linked_dirs
      01 mkdir -p /home/ubuntu/notebook/shared/log /home/ubuntu/notebook/shared/tmp/pids /home/ubuntu/notebook/shared/tmp/cache /home/ubuntu/notebook/shared/tmp/sockets /home/ubuntu/notebook/shared/vendor/bundle /home/ubuntu/notebook/shared/public/system /home/ubuntu/notebook/shared/public/assets
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.165s
00:03 git:clone
      The repository mirror is at /home/ubuntu/notebook/repo
00:03 git:update
      01 git remote set-url origin https://github.com/Lexa67/Notebook.git
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.167s
      02 git remote update --prune
      02 Fetching origin
      02 From https://github.com/Lexa67/Notebook
      02    2dbbf48..b4db575  main       -> main
    ✔ 02 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.712s
00:04 git:create_release
      01 mkdir -p /home/ubuntu/notebook/releases/20240510121149
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.168s
      02 git archive main | /usr/bin/env tar -x -f - -C /home/ubuntu/notebook/releases/20240510121149
    ✔ 02 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.174s
00:05 deploy:set_current_revision
      01 echo "b4db5758771ea3604035a2fd277b54792935a31f" > REVISION
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.165s
00:05 deploy:symlink:linked_dirs
      01 mkdir -p /home/ubuntu/notebook/releases/20240510121149 /home/ubuntu/notebook/releases/20240510121149/tmp /home/ubuntu/notebook/releases/20240510121149/vendor /home/ubuntu/notebook/releases/20240510121149/public
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.165s
      02 rm -rf /home/ubuntu/notebook/releases/20240510121149/log
    ✔ 02 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.166s
      03 ln -s /home/ubuntu/notebook/shared/log /home/ubuntu/notebook/releases/20240510121149/log
    ✔ 03 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.168s
      04 rm -rf /home/ubuntu/notebook/releases/20240510121149/tmp/pids
    ✔ 04 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.173s
      05 ln -s /home/ubuntu/notebook/shared/tmp/pids /home/ubuntu/notebook/releases/20240510121149/tmp/pids
    ✔ 05 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.172s
      06 ln -s /home/ubuntu/notebook/shared/tmp/cache /home/ubuntu/notebook/releases/20240510121149/tmp/cache
    ✔ 06 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.168s
      07 ln -s /home/ubuntu/notebook/shared/tmp/sockets /home/ubuntu/notebook/releases/20240510121149/tmp/sockets
    ✔ 07 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.161s
      08 ln -s /home/ubuntu/notebook/shared/vendor/bundle /home/ubuntu/notebook/releases/20240510121149/vendor/bundle
    ✔ 08 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.166s
      09 ln -s /home/ubuntu/notebook/shared/public/system /home/ubuntu/notebook/releases/20240510121149/public/system
    ✔ 09 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.172s
      10 ln -s /home/ubuntu/notebook/shared/public/assets /home/ubuntu/notebook/releases/20240510121149/public/assets
    ✔ 10 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.162s
00:09 bundler:config
      01 $HOME/.rbenv/bin/rbenv exec bundle config --local deployment true
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.363s
      02 $HOME/.rbenv/bin/rbenv exec bundle config --local path /home/ubuntu/notebook/shared/bundle
    ✔ 02 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.363s
      03 $HOME/.rbenv/bin/rbenv exec bundle config --local without development:test
    ✔ 03 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.363s
00:11 bundler:install
      The Gemfile's dependencies are satisfied, skipping installation
00:11 deploy:assets:precompile
      01 $HOME/.rbenv/bin/rbenv exec bundle exec rake assets:precompile
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 1.337s
00:13 deploy:assets:backup_manifest
      01 mkdir -p /home/ubuntu/notebook/releases/20240510121149/assets_manifest_backup
    ✔ 01 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.168s
      02 cp /home/ubuntu/notebook/releases/20240510121149/public/assets/.sprockets-manifest-918039e70b0cd88a1a413c4fb18a37ea.json /home/ubuntu/notebook/releases/20240510121149/assets_manifest_backup
    ✔ 02 ubuntu@ec2-13-60-50-49.eu-north-1.compute.amazonaws.com 0.164s
00:13 deploy:migrate
      [deploy:migrate] Run `rake db:migrate`
00:13 deploy:migrating
      01 $HOME/.rbenv/bin/rbenv exec bundle exec rake db:migrate
      01 rake aborted!
      01 ActiveRecord::NoDatabaseError: We could not find your database: notebook_production. Which can be found in the database configuration file located at config/database.yml. (ActiveRecord::NoDatabaseError)
      01 
      01 To resolve this issue:
      01 
      01 - Did you create the database for this app, or delete it? You may need to create your database.
      01 - Has the database name changed? Check your database.yml config has the correct database name.
      01 
      01 To create your database, run:
      01 
      01         bin/rails db:create
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:280:in `connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:262:in `migrate'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/railties/databases.rake:92:in `block (2 levels) in <main>'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/rake-13.2.1/exe/rake:27:in `<top (required)>'
      01 /home/ubuntu/.rbenv/versions/3.2.2/bin/bundle:25:in `load'
      01 /home/ubuntu/.rbenv/versions/3.2.2/bin/bundle:25:in `<main>'
      01 
      01 Caused by:
      01 PG::ConnectionBad: connection to server at "127.0.0.1", port 5432 failed: FATAL:  database "notebook_production" does not exist (PG::ConnectionBad)
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/pg-1.5.6/lib/pg/connection.rb:701:in `async_connect_or_reset'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/pg-1.5.6/lib/pg/connection.rb:833:in `connect_to_hosts'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/pg-1.5.6/lib/pg/connection.rb:764:in `new'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/pg-1.5.6/lib/pg.rb:63:in `connect'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:280:in `connection'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:262:in `migrate'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/activerecord-7.0.8.1/lib/active_record/railties/databases.rake:92:in `block (2 levels) in <main>'
      01 /home/ubuntu/notebook/shared/bundle/ruby/3.2.0/gems/rake-13.2.1/exe/rake:27:in `<top (required)>'
      01 /home/ubuntu/.rbenv/versions/3.2.2/bin/bundle:25:in `load'
      01 /home/ubuntu/.rbenv/versions/3.2.2/bin/bundle:25:in `<main>'
      01 Tasks: TOP => db:migrate
      01 (See full trace by running task with --trace)
